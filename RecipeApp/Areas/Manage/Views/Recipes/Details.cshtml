@model RecipeApp.Models.RecipeViewModel

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
          crossorigin="anonymous">

    <!-- Import jquery cdn -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous">
    </script>
</head>
<div>
    <form>
        <h4>RecipeViewModel</h4>
        <hr />
        <div class="col-md-3"></div>
        <input type="hidden" name="Id" class="Id" value="@Model.Id" />

        <div class="col-md-8">
            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.Name)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Name)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Description)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Status)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Status)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Category)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Category.Name)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.User)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.User.Name)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Photo)
                </dt>

                <dd>
                    @*@Html.DisplayNameFor(model => model.Photo)*@
                    <img src="~/Upload/@ViewBag.image" height="100">

                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Duration)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Duration)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Ingridients)
                </dt>
                @foreach (var i in Model.Ingridients)
                {
                    <dd>
                        <label>@i.Quantity  @i.Name</label>
                    </dd>
                }


            </dl>
        </div>
        <div class="modal fade" id="exampleModal"
             tabindex="-1"
             aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title"
                            id="exampleModalLabel">
                            Entered Data
                        </h5>
                        <input type="text" name="message" value="message" />

                        @TempData["Data"]= message;

                        <button type="button"
                                class="close"
                                data-dismiss="modal"
                                aria-label="Close">

                            <span aria-hidden="true">
                                ×
                            </span>
                        </button>
                    </div>

                    <div class="modal-body">

                        <!-- Data passed is displayed
                        in this part of the
                        modal body -->
                        <p id="modal_body"></p>

                        <button type="button" onclick="location.href='@Url.Action("Cancel", "Recipes",new { id=Model.Id})'"
                                class="btn btn-warning btn-sm"
                                data-toggle="modal"
                                data-target="#exampleModal">
                            Proceed
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">
    $("#submit").click(function () {
        var text = $(".Id").val();
        $("#modal_body").html(text);
    });
</script>


</div>
<p>
    @Html.ActionLink("Submit", "Submit", new { id = Model.Id }) |
    @*@Html.ActionLink("Cancel", "Cancel", new { id = Model.Id }) |*@
    <button type="button"
            class="btn btn-success btn-sm"
            data-toggle="modal"
            data-target="#exampleModal"
            id="submit">
        Cancel
    </button>

   
</p>
<script>

</script>